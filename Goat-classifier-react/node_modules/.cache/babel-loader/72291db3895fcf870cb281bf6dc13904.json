{"ast":null,"code":"import _classCallCheck from\"/Users/ricardoduenas/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ricardoduenas/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ricardoduenas/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ricardoduenas/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import LandingPage from'../components/LandingPage';var React=require(\"react\");var GoatClassifier=/*#__PURE__*/function(_React$Component){_inherits(GoatClassifier,_React$Component);var _super=_createSuper(GoatClassifier);function GoatClassifier(){var _this;_classCallCheck(this,GoatClassifier);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={currentStep:0};_this.fetchResult=function(){console.log('im gonna post request');var formData=new FormData();formData.append('image',_this.state.img_file);fetch('https://goats.onrender.com/predict',{method:'POST',body:formData}).then(function(resp){console.log(resp);resp.json().then(function(data){_this.setState({currentStep:1,response:data});});});};_this.handleChange=function(event){_this.setState({img_file:event.target.files[0],img_obj:URL.createObjectURL(event.target.files[0]),currentStep:3},function(){_this.fetchResult();});};return _this;}_createClass(GoatClassifier,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(LandingPage,{handleChange:this.handleChange,fetchResult:this.fetchResult,img:this.state.img_obj,currentStep:this.state.currentStep,response:this.state.response});}}]);return GoatClassifier;}(React.Component);export default GoatClassifier;","map":{"version":3,"sources":["/Users/ricardoduenas/my-app/src/components/GoatClassifier.js"],"names":["LandingPage","React","require","GoatClassifier","state","currentStep","fetchResult","console","log","formData","FormData","append","img_file","fetch","method","body","then","resp","json","data","setState","response","handleChange","event","target","files","img_obj","URL","createObjectURL","Component"],"mappings":"wjBAAA,MAAOA,CAAAA,WAAP,KAAwB,2BAAxB,CACA,GAAIC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAAnB,C,GAEMC,CAAAA,c,uWACFC,K,CAAQ,CACJC,WAAW,CAAE,CADT,C,OAGRC,W,CAAc,UAAM,CAChBC,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACA,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyB,MAAKP,KAAL,CAAWQ,QAApC,EACAC,KAAK,CAAC,oCAAD,CAAuC,CACxCC,MAAM,CAAE,MADgC,CAExCC,IAAI,CAAEN,QAFkC,CAAvC,CAAL,CAGGO,IAHH,CAII,SAAAC,IAAI,CAAI,CACJV,OAAO,CAACC,GAAR,CAAYS,IAAZ,EACAA,IAAI,CAACC,IAAL,GAAYF,IAAZ,CAAiB,SAAAG,IAAI,CAAI,CACrB,MAAKC,QAAL,CAAc,CACVf,WAAW,CAAE,CADH,CAEVgB,QAAQ,CAAEF,IAFA,CAAd,EAIH,CALD,EAMH,CAZL,EAcH,C,OACDG,Y,CAAe,SAACC,KAAD,CAAW,CACtB,MAAKH,QAAL,CAAc,CACVR,QAAQ,CAAEW,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CADA,CAEVC,OAAO,CAAEC,GAAG,CAACC,eAAJ,CAAoBL,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,CAFC,CAGVpB,WAAW,CAAE,CAHH,CAAd,CAIG,UAAM,CACL,MAAKC,WAAL,GACH,CAND,EAOH,C,iFAEQ,CACL,mBACI,oBAAC,WAAD,EAAa,YAAY,CAAE,KAAKgB,YAAhC,CAA8C,WAAW,CAAE,KAAKhB,WAAhE,CAA6E,GAAG,CAAE,KAAKF,KAAL,CAAWsB,OAA7F,CAAsG,WAAW,CAAE,KAAKtB,KAAL,CAAWC,WAA9H,CACI,QAAQ,CAAE,KAAKD,KAAL,CAAWiB,QADzB,EADJ,CAIH,C,4BAtCwBpB,KAAK,CAAC4B,S,EAyCnC,cAAe1B,CAAAA,cAAf","sourcesContent":["import LandingPage from '../components/LandingPage';\nvar React = require(\"react\");\n\nclass GoatClassifier extends React.Component {\n    state = {\n        currentStep: 0\n    };\n    fetchResult = () => {\n        console.log('im gonna post request');\n        var formData = new FormData();\n        formData.append('image', this.state.img_file);\n        fetch('https://goats.onrender.com/predict', {\n            method: 'POST',\n            body: formData\n        }).then(\n            resp => {\n                console.log(resp)\n                resp.json().then(data => {\n                    this.setState({\n                        currentStep: 1,\n                        response: data\n                    });\n                });\n            }\n        );\n    };\n    handleChange = (event) => {\n        this.setState({\n            img_file: event.target.files[0],\n            img_obj: URL.createObjectURL(event.target.files[0]),\n            currentStep: 3\n        }, () => {\n            this.fetchResult()\n        })\n    };\n\n    render() {\n        return (\n            <LandingPage handleChange={this.handleChange} fetchResult={this.fetchResult} img={this.state.img_obj} currentStep={this.state.currentStep}\n                response={this.state.response} />\n        );\n    }\n}\n\nexport default GoatClassifier;\n"]},"metadata":{},"sourceType":"module"}